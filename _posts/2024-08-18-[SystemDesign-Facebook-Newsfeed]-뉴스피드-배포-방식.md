---
layout: post
date: 2024-08-18
title: "[SystemDesign-Facebook Newsfeed] 뉴스피드 배포 방식"
tags: [System Design, Architecture, Facebook Newsfeed, ]
categories: [System Design, Problems, Facebook Newsfeed, ]
---


### 1. **"Pull" 모델 (Fan-out-on-load)**

- **설명**: 사용자가 서버에서 피드 데이터를 직접 가져오는 방식이다. 서버는 모든 사용자의 최신 피드 데이터를 메모리에 저장하고, 사용자가 요청할 때마다 이를 제공한다.
- **장점**:
	- 서버 부하가 적어, 자원을 효율적으로 사용할 수 있다.
	- 사용자가 원하는 시점에 피드를 가져갈 수 있다.
- **단점**:
	- 사용자가 수동으로 데이터를 가져오기 때문에, 새로운 게시물이 즉시 반영되지 않을 수 있다.
	- 적절한 요청 주기를 설정하기 어려워, 불필요한 요청이 발생할 수 있다.

#### 2. **"Push" 모델 (Fan-out-on-write)**

- **설명**: 사용자가 새로운 게시물을 작성하면, 이 게시물이 자동으로 팔로워들의 피드에 푸시되는 방식이다. 서버가 사용자의 피드를 실시간으로 업데이트해준다.
- **장점**:
	- 사용자는 항상 최신 피드를 볼 수 있어, 피드의 최신성이 보장된다.
	- 읽기 작업이 줄어들어 사용자가 빠르게 피드를 확인할 수 있다.
- **단점**:
	- 팔로워가 많은 경우(예: 유명인), 서버가 많은 사용자에게 푸시해야 하므로 큰 부하가 발생할 수 있다.
	- 푸시로 인한 서버 부하를 관리하기 어려울 수 있다.

#### 3. **하이브리드 모델**

- **설명**: "Pull" 모델과 "Push" 모델을 결합한 방식이다. 일반 사용자에게는 푸시를 사용하고, 팔로워가 많은 유명인이나 페이지의 경우에는 팔로워들이 직접 피드를 가져가도록 한다.
- **장점**:
	- 성능과 효율성을 모두 확보할 수 있어. 팔로워가 적은 사용자에게는 푸시로 실시간 업데이트를 제공하고, 팔로워가 많은 경우에는 자원을 절약할 수 있다.
	- 서버 부하를 분산시킬 수 있다.
- **단점**:
	- 구현이 복잡할 수 있고, 상황에 따라 다른 전략을 적용해야 하므로 관리가 어려울 수 있다.

#### 4. **알림과 수동 새로 고침**

- **설명**: 사용자가 새로운 게시물이 있을 때 알림을 받고, 직접 피드를 새로 고침하여 새로운 게시물을 가져오는 방식이다. 주로 모바일 기기에서 사용된다.
- **장점**:
	- 사용자는 새로운 게시물에 대해 알림을 받을 수 있지만, 실제 데이터를 가져올 때는 선택적으로 할 수 있어, 데이터 사용을 절약할 수 있다.
- **단점**:
	- 사용자가 매번 새로 고침을 해야 하므로, 피드의 최신성을 놓칠 수 있다.
	- 알림을 수신하는 과정에서 푸시와 비슷한 부하가 발생할 수 있다.
