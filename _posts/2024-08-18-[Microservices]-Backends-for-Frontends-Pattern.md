---
layout: post
date: 2024-08-18
title: "[Microservices] Backends for Frontends Pattern"
tags: [Microservices, ]
categories: [Microservices, ]
---


**Backends for Frontends (BFF) 패턴**은 마이크로서비스 아키텍처에서 **프론트엔드 애플리케이션별로 독립적인 백엔드**를 구성하는 패턴이다. 이 패턴은 각 프론트엔드(예: 웹 애플리케이션, 모바일 애플리케이션, 스마트 디바이스 애플리케이션 등)의 요구사항에 맞춰 백엔드를 최적화함으로써 더 나은 사용자 경험을 제공하기 위해 사용된다.


#### BFF 패턴의 개념

- **프론트엔드 맞춤형 백엔드**: BFF 패턴에서는 각 프론트엔드 애플리케이션(예: 웹, 모바일, 스마트 디바이스)에 대해 별도의 백엔드를 구축한다. 이 백엔드는 해당 프론트엔드의 구체적인 요구사항에 맞춰 설계되고 최적화된다.
- **단일 백엔드가 아닌 프론트엔드별 백엔드**: 전통적인 방식에서는 모든 클라이언트가 단일 백엔드를 통해 서비스에 접근하지만, BFF 패턴에서는 각 클라이언트가 자신만의 백엔드를 갖는다.

#### BFF 패턴의 동작 방식

1. **클라이언트 맞춤형 데이터 처리**:
	- 각 프론트엔드 애플리케이션이 필요로 하는 데이터는 다를 수 있다. BFF는 해당 프론트엔드의 요구에 맞는 데이터를 적절히 가공하여 반환한다.
2. **특정 클라이언트에 최적화된 API**:
	- 모바일 앱은 네트워크 대역폭이나 전력 소비를 최소화하기 위해 가볍고 효율적인 API 응답을 필요로 할 수 있고, 웹 애플리케이션은 더 많은 데이터를 포함한 복잡한 응답을 필요로 할 수 있다. BFF는 이러한 요구사항에 맞춰 API를 설계한다.
3. **비즈니스 로직의 클라이언트별 처리**:
	- BFF는 공통 비즈니스 로직을 처리하면서도, 각 클라이언트에 맞게 특정 비즈니스 로직을 다르게 처리할 수 있다.

#### BFF 패턴의 장점

- **클라이언트 최적화**: 각 클라이언트(웹, 모바일 등)의 특성에 맞게 백엔드를 최적화할 수 있어, 더 나은 성능과 사용자 경험을 제공할 수 있다.
- **유연성**: 각 프론트엔드의 변화에 맞춰 백엔드를 쉽게 수정하거나 확장할 수 있다. 예를 들어, 모바일 앱에서 새로운 기능을 추가할 때, 웹 애플리케이션에 영향을 주지 않고 모바일 전용 백엔드를 변경할 수 있다.
- **비즈니스 로직의 단순화**: BFF를 통해 공통적인 비즈니스 로직은 유지하면서도, 각 클라이언트에 맞게 로직을 조정할 수 있어 코드 복잡성을 줄일 수 있다.

#### BFF 패턴의 단점

- **관리 오버헤드 증가**: 여러 개의 백엔드를 관리해야 하므로, 개발과 운영에서 복잡성이 증가할 수 있다.
- **코드 중복**: 여러 BFF에서 유사한 기능을 구현해야 하는 경우 코드 중복이 발생할 수 있다. 이를 방지하기 위해 공통 코드를 추출하여 라이브러리화하는 방법을 고려할 수 있다.
- **통합 테스트의 복잡성**: 각 BFF와 클라이언트 간의 상호작용을 모두 테스트해야 하므로, 테스트의 복잡성이 증가할 수 있다.

#### BFF 패턴 사용 예시

- **모바일 애플리케이션**: 모바일 애플리케이션의 BFF는 배터리 사용량을 최소화하고, 네트워크 대역폭을 절약하기 위해 최소한의 데이터만을 반환하도록 설계된다.
- **웹 애플리케이션**: 웹 애플리케이션의 BFF는 더 많은 데이터를 포함한 복잡한 응답을 처리하며, 데스크톱 브라우저의 성능을 활용할 수 있도록 최적화된다.
- **스마트 디바이스**: 스마트 디바이스용 BFF는 장치의 제한된 자원을 고려하여 가볍고 효율적인 API를 제공한다.

#### 결론


**Backends for Frontends (BFF) 패턴**은 마이크로서비스 아키텍처에서 각 프론트엔드의 요구에 맞는 최적화된 백엔드를 제공하는 방식이다. 이를 통해 클라이언트별로 특화된 서비스와 성능을 제공할 수 있으며, 사용자 경험을 향상시키는 데 유용하다. 하지만, 여러 백엔드를 관리해야 하는 복잡성과 오버헤드가 발생할 수 있으므로, 이를 고려하여 적절히 적용하는 것이 중요하다.

