---
layout: post
date: 2024-08-16
title: "[SystemDesign] Circuit Breaker"
tags: [System Design, API Gateway, Circuit Breaker, ]
categories: [System Design, Basics, ]
---


### 서킷 브레이커의 주요 개념

1. 분산 시스템이나 마이크로서비스 아키텍처에서 **시스템의 안정성을 유지하고 장애의 확산을 방지하기 위해 사용하는 패턴**이다. 전기 회로의 서킷 브레이커와 유사하게, 문제가 발생할 경우 시스템의 일부를 차단하여 전체 시스템이 영향을 받지 않도록 하는 역할을 한다.
2. **문제 방지**:
	- 서킷 브레이커는 특정 서비스나 구성 요소에 문제가 발생했을 때, 지속적인 실패가 발생하는 요청을 차단하여 전체 시스템의 악영향을 방지한다.
3. **상태**:
	- **Closed (닫힘)**: 모든 요청이 정상적으로 서비스에 전달되는 상태이다.
	- **Open (열림)**: 서비스에서 연속적인 실패가 발생하면 서킷 브레이커가 열리고, 일정 시간 동안 모든 요청을 차단한다.
	- **Half-Open (반 열림)**: 일정 시간이 지나면 일부 요청을 테스트 목적으로 서비스에 보내어 상태를 확인하고, 정상 응답이 오면 다시 닫힌 상태로 전환한다.
4. **작동 방식**:
	- 서비스가 정상적으로 동작하면 서킷 브레이커는 닫힌 상태로 유지되며, 모든 요청이 전달된다.
	- 서비스에서 연속적인 실패가 발생하면 서킷 브레이커는 열려서 새로운 요청을 차단하고, 일정 시간 후에 반 열림 상태로 복구 시도를 한다.
5. **장점**:
	- 서킷 브레이커는 장애가 발생한 서비스에 대한 과부하를 방지하고, 시스템의 안정성을 유지한다.
	- 빠른 실패 처리를 통해 문제를 조기에 감지하고, 더 큰 문제로 확산되는 것을 막는다.
	- 서비스가 복구될 수 있도록 일정 시간 후에 다시 테스트하여 정상 상태로 복귀할 수 있게 한다.

서킷 브레이커는 시스템에서 장애가 발생했을 때, 장애의 확산을 방지하고 시스템의 안정성을 유지하는 중요한 역할을 한다. 일정 횟수 이상의 실패가 발생하면 요청을 차단하고, 시스템이 회복될 때까지 기다렸다가 다시 시도하는 방식으로 작동한다. 이를 통해 시스템의 리소스를 보호하고, 더 큰 장애를 예방할 수 있다.

