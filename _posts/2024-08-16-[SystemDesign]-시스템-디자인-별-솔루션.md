---
layout: post
date: 2024-08-16
title: "[SystemDesign] 시스템 디자인 별 솔루션"
tags: [SystemDesign, ]
categories: [SystemDesign, Basics, ]
---


## 1. 통합 API 접근: 클라이언트 요청을 중앙에서 관리

- **시스템 디자인 질문:** 마이크로서비스를 위한 API 게이트웨이를 설계하세요.
- **구성 요소:** API 게이트웨이
- **해결하는 문제:** 단일 진입점, 인증 및 라우팅 관리.
- **한계/이슈:** 병목 현상 발생 가능, 지연 시간 증가.
- **완화 방안:**
	- 로드 밸런싱을 통한 여러 게이트웨이 사용.
	- 레이트 리미팅 및 캐싱 구현.
	- 서킷 브레이커 및 재시도 메커니즘 사용.
- **도구 예시:** Kong, Apigee, AWS API Gateway

### 2. 고트래픽 웹사이트: 가동 시간을 보장하고 로드를 분산

- **시스템 디자인 질문:** 확장 가능한 웹 애플리케이션을 설계하세요.
- **구성 요소:** 로드 밸런서
- **해결하는 문제:** 트래픽을 워커 간에 분산시켜 신뢰성과 가용성을 향상시킴.
- **한계/이슈:** 단일 장애 지점(SPOF) 가능성, 복잡성 증가.
- **완화 방안:**
	- 여러 지역에 로드 밸런서 사용.
	- 상태 확인(health checks) 구현.
	- DNS 기반 로드 밸런싱 사용.
- **도구 예시:** Nginx, HAProxy, AWS ELB

### 3. 금융 거래: ACID 준수 필요

- **시스템 디자인 질문:** 금융 거래 시스템을 설계하세요.
- **구성 요소:** SQL 데이터베이스
- **해결하는 문제:** 강력한 ACID 속성, 구조화된 데이터, 복잡한 쿼리 지원.
- **한계/이슈:** 확장성 제한, 스키마 관리 필요.
- **완화 방안:**
	- 샤딩(sharding) 구현.
	- 읽기 복제본(read replicas) 사용.
	- 클러스터링 및 파티셔닝 적용.
- **도구 예시:** MySQL, PostgreSQL, MS SQL Server

### 4. 대규모 데이터: 수평 확장 지원

- **시스템 디자인 질문:** 대규모 사용자 프로필 스토어를 설계하세요.
- **구성 요소:** NoSQL 데이터베이스
- **해결하는 문제:** 유연한 스키마, 수평 확장성, 높은 성능 제공.
- **한계/이슈:** 일관성 보장 문제, 제한된 트랜잭션 지원.
- **완화 방안:**
	- 일관성 설정 사용(예: 쿼럼 읽기/쓰기).
	- 멱등성(idempotent) 작업 설계.
	- 충돌 해결 전략 구현.
- **도구 예시:** MongoDB, Cassandra, DynamoDB

### 5. 높은 가용성: 데이터를 복제하고 가용성을 보장

- **시스템 디자인 질문:** 데이터 복제 전략을 설계하세요.
- **구성 요소:** 데이터 복제
- **해결하는 문제:** 데이터 내구성을 보장하고 시스템 가용성을 보장.
- **한계/이슈:** 비용 증가, 일관성 문제 발생 가능.
- **완화 방안:**
	- 비동기 복제 사용.
	- 멱등성 메시지 처리 구현.
	- 메시지 중복 제거 기술 사용.
- **도구 예시:** AWS RDS 스탠바이(동기), AWS RDS 읽기 복제본(비동기), MongoDB Replica Set(비동기)

### 6. 높은 읽기 부하: 빈번한 읽기에 대한 지연 시간 감소

- **시스템 디자인 질문:** 고성능 캐싱 레이어를 설계하세요.
- **구성 요소:** 캐시
- **해결하는 문제:** 지연 시간을 줄이고 데이터베이스의 부하를 감소시킴.
- **한계/이슈:** 캐시 일관성 문제, 오래된 데이터(stale data) 발생 가능성.
- **완화 방안:**
	- 캐시 무효화 전략(cache invalidation) 구현.
	- TTL(Time-to-Live) 설정 사용.
	- 쓰루(write-through) 또는 백(write-back) 캐싱 사용.
- **도구 예시:** Redis, Memcached

### 7. 실시간 분석: 빠른 데이터 접근 필요

- **시스템 디자인 질문:** 실시간 분석 시스템을 설계하세요.
- **구성 요소:** 인메모리 데이터베이스
- **해결하는 문제:** 매우 빠른 데이터 검색, 지연 시간 감소.
- **한계/이슈:** 휘발성 저장소, 높은 메모리 비용.
- **완화 방안:**
	- 지속성 옵션 사용.
	- 하이브리드 스토리지 모델(인메모리 + 디스크) 사용.
	- 데이터 백업 전략 구현.
- **도구 예시:** Redis, Memcached

### 8. 이벤트 스트리밍: 고스루풋 데이터 스트림 관리

- **시스템 디자인 질문:** 실시간 이벤트 스트리밍 플랫폼을 설계하세요.
- **구성 요소:** 메시지 브로커
- **해결하는 문제:** 메시지 교환을 지원하고 여러 패턴을 지원.
- **한계/이슈:** 병목 현상 가능성, 전달 보장 문제.
- **완화 방안:**
	- 파티션을 사용하는 확장 가능한 브로커 사용.
	- 백프레셔(backpressure) 처리 구현.
	- 메시지 브로커 성능 모니터링.
- **도구 예시:** Apache Kafka, RabbitMQ, ActiveMQ

### 9. 이벤트 기반 시스템: 비동기 이벤트 관리

- **시스템 디자인 질문:** 이벤트 기반 아키텍처를 설계하세요.
- **구성 요소:** 분산 큐
- **해결하는 문제:** 비동기 통신 관리, 컴포넌트 간의 결합도 감소.
- **한계/이슈:** 메시지 순서 및 전달 보장 문제.
- **완화 방안:**
	- 강력한 순서 보장을 가진 메시지 브로커 사용.
	- 멱등성 메시지 처리 구현.
	- 메시지 중복 제거 기술 사용.
- **도구 예시:** Apache Kafka, RabbitMQ, AWS SQS

### 10. 대규모 애플리케이션: 모듈성과 확장성 향상

- **시스템 디자인 질문:** 확장 가능한 마이크로서비스 아키텍처를 설계하세요.
- **구성 요소:** 마이크로서비스
- **해결하는 문제:** 모듈성 향상, 독립적인 배포 가능.
- **한계/이슈:** 통신 복잡성 증가.
- **완화 방안:**
	- 서비스 메쉬 사용.
	- 표준화된 API 사용.
	- 중앙 집중식 로깅 및 모니터링 사용.
- **도구 예시:** Docker, Kubernetes, Istio

### 11. 마이크로서비스: 서비스 발견 가능하게 함

- **시스템 디자인 질문:** 서비스 디스커버리 메커니즘 설계하세요.
- **구성 요소:** 서비스 레지스트리
- **해결하는 문제:** 서비스와 해당 인스턴스를 추적.
- **한계/이슈:** 높은 가용성 필요, 일관성 문제 발생 가능성.
- **완화 방안:**
	- 분산 서비스 레지스트리 사용.
	- 정기적인 상태 확인(health checks) 구현.
	- 일관성을 위한 합의 알고리즘 사용.
- **도구 예시:** Consul, Eureka, Zookeeper

### 12. 콘텐츠 중심 사이트: 사용자 로드 시간 개선

- **시스템 디자인 질문:** 콘텐츠 전송 시스템을 설계하세요.
- **구성 요소:** CDN(콘텐츠 전송 네트워크)
- **해결하는 문제:** 지연 시간을 줄이고 로드 시간을 개선.
- **한계/이슈:** 캐시 무효화 복잡성, 비용 발생.
- **완화 방안:**
	- 캐시 삭제 전략(cache purging) 구현.
	- 지역별 CDN 사용.
	- CDN 성능과 적중률(hit rates) 모니터링.
- **도구 예시:** Cloudflare, Akamai, AWS CloudFront

출처 : [https://github.com/bhavul/System-Design-Cheatsheet](https://github.com/bhavul/System-Design-Cheatsheet)

