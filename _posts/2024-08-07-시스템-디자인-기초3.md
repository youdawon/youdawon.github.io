---
layout: post
date: 2024-08-07
title: "시스템 디자인 기초3"
tags: [systemdesign, architecture, ]
categories: [systemDesign, ]
---


## 분산 메세징 시스템


확장이 가능하고 수많은 메세지를 교환할 수 있는 시스템이다. 분산 메세지 시스템은 라지 스케일이나 MSA 또는 분산된 환경에서 특히 많이 사용한다.


송/수신 컴포넌트의 결합도를 낮추고 개별적으로 개발이 가능하도록 되어있다.


Apache Kafka 또는 RabbitMQ 등이 있다.


### Microservices


소규모의 어플리케이션들로 구성되어있으며 각 서비스 별로 배포가 가능하고 느슨한 결합을 가진 설계 스타일이다.

- **Single Responsibility**: 각 microservice는 도메인 별 또는 특정 기능에 중점되어 있기 때문에 서비스를 이해하고 유지하기가 쉽다.
- 전체 서비스에 영향이 가지 않도록 개발 가능하여 서비스 별로 각각 개발 및 배포가 가능하다.

### NoSQL


비관계형 데이터베이스


빅데이터 처리나 실시간 데이터 처리에 용이하며 유용성, 확장성을 가지고 있으며 대용량 데이터를 관리할 수 있다.

- **Document-based**: JSON 또는 BSON 형식과 같은 구조를 가지고 있으며 각각의 도큐먼트의 구조가 다를 수 있다. MongoDB 또는 Couchbase가 이에 속한다.
- **Key-Value**: Key, Value 형식으로 저장되며 이러한 방식은 단순 읽기, 쓰기에 효과적이고 수평적 확장이 쉽다. Redis나 Amazon DynamoDB 등이 있다.
- **Column-Family**: Apache Cassandra나 HBase 등이 있다.
- **Graph-based**: 추천 시스템이나 소셜 네트워크와 같은 복잡한 관계를 가진 데이터를 저장하고 조회하는 데 사용된다. Graph 데이터베이스는 노드, 엣지, 데이터를 저장하고 보여주는 프로퍼티를 사용하며, 복잡한 순서나 관계 쿼리를 실행이 쉽도록 해준다. Neo4j나 Amazon Neptune 등이 있다.

### 데이터베이스 인덱스


쿼리 속도를 향상시켜주는 데이터 구조

- **Storage Space**: 인덱스는 실제 데이터와 별개로 데이터 구조를 나눠서 생성하고 유지하기 때문에 추가 저장 공간이 필요하다.
- **Write Performance**: 테이블에서 데이터 CRUD 시 인덱스도 동일하게 업데이트 되어야 하기 때문에 쓰기 연산이 느려질 수도 있다.

### 분산 파일 시스템


여러 개의 서버나 노드 또는 장비에서 파일 접근 권한을 관리하도록 디자인된 저장 시스템이다.


사용자가 자신의 로컬 파일 시스템에서 데이터 접근/수정이 가능하도록 하지만 실제 파일은 여러 개의 서버 장비에 나눠져 있다.


### 알림 시스템


사용자에게 메일, 푸시 알림, 문자 등을 전송한다.


### Full-Text Search


앱 또는 웹사이트에서 특정 단어로 검색이 가능하도록 한다. 사용자의 쿼리에 따라 가장 관계 있는 결과를 도출하고 엘라스틱서치가 이에 해당한다.


### Heartbeat


분산된 시스템에서는 각각의 시스템이 중앙 관제 서버에 주기적으로 heartbeat 메세지를 보냄으로써 서버 상태를 알려준다. 중앙 관제 서버가 없을 경우 랜덤으로 서로의 서버를 선택하여 주기적으로 heartbeat 메세지를 전송한다.


### Checksum


데이터 무결성을 위한 방법으로 데이터를 저장 시 체크섬을 계산하고 데이터와 함께 저장한다. 클라이언트에서 데이터 요청 시 데이터와 체크섬을 비교한 후 일치하지 않을 경우 다른 서버로부터 데이터를 요청한다.

- 암호화 해시 함수(Cryptographic Hash Function): MD5, SHA-1, SHA-256, SHA-512
